/* Easy Scroll Dots 2.0.2 --- https://github.com/Superhands89/EasyScrollDots
* Quickly add anchor points throughout your web page/application and have navigational dots automatically appear
* in a fixed position on the side of the page. This allows the user to click to scroll though sections of the page,
* and it updates as they scroll.
*
* By Superhands89 2019-2022 --- https://github.com/Superhands89/
*
* GPLv3 Licence for open source use only
* or purchase a Single Commercial License at https://gum.co/TdtEX
* or purchase an Extended Commercial License at https://gum.co/NGfmlw
*/
function dotsThrottle(t,e,o){let n,i,d,l=null,a=0;o||(o={});const c=function(){a=!1===o.leading?0:Date.now(),l=null,d=t.apply(n,i),l||(n=i=null)};return function(){const r=Date.now();a||!1!==o.leading||(a=r);const s=e-(r-a);return n=this,i=arguments,s<=0||s>e?(l&&(clearTimeout(l),l=null),a=r,d=t.apply(n,i),l||(n=i=null)):l||!1===o.trailing||(l=setTimeout(c,s)),d}}let dotFixedNavPresent=!1,dotFixedNavId="",dotFixedNavUp=!1,dotOffset=0,dotNavHeight=0;function easyScrollDots(t){let e=document.querySelectorAll("[data-scroll-indicator-title]");if(!0===t.fixedNav&&(dotFixedNavPresent=!0),dotFixedNavId=""!==t.fixedNavId&&t.fixedNavId,!0===t.fixedNavUpward&&(dotFixedNavUp=!0),t.offset>0&&(dotOffset=t.offset),!0===dotFixedNavPresent&&dotFixedNavId.length){const t=document.getElementById(dotFixedNavId);null!==t?dotNavHeight=t.clientHeight:console.error("easyScrollDots Error: A fixed navigation ID has been defined, but an element with the corresponding ID cannot be found in the DOM. Check you have spelled the dotFixedNavId correctly.")}if(e.length){const t='<div class="scroll-indicator-controller"><span></span></div>';document.querySelector("body").lastElementChild.insertAdjacentHTML("afterend",t);const o=document.querySelector(".scroll-indicator-controller");void 0===window.orientation&&-1===navigator.userAgent.indexOf("IEMobile")||o.classList.add("indi-mobile");const n=Array.prototype.slice.call(e);n.forEach(function(t,e){const i=t.getAttribute("data-scroll-indicator-title");let d="";0==e&&(d="active"),o.lastElementChild.insertAdjacentHTML("afterend",'<div class="'+d+'" data-indi-controller-id="'+i+'" onclick="scrollIndiClicked(\''+i+"');\"><span>"+i+"</span><div></div></div>"),e==n.length-1&&(o.lastElementChild.insertAdjacentHTML("afterend",'<div data-indi-controller-id="indiEnd" style="display: none;"></div>'),t.insertAdjacentHTML("afterend",'<div data-scroll-indicator-title="indiEnd"></div>'),n.push(document.querySelector('[data-scroll-indicator-title="indiEnd"]')))});const i=o.querySelectorAll("[data-indi-controller-id]"),d=dotsThrottle(function(){let t={};n.forEach(function(e){const o=e.getAttribute("data-scroll-indicator-title"),n=e.getBoundingClientRect().top;t[o]=n});const e=Object.keys(t).map(function(e){return t[e]});Object.keys(t).forEach(function(n){if(t[n]==function(){const t=e.filter(function(t){return t>0+(dotOffset+2)+dotNavHeight});return Math.min.apply(null,t)}()){Array.prototype.forEach.call(i,function(t){t.classList.contains("active")&&t.classList.remove("active")});const t=o.querySelector('[data-indi-controller-id="'+n+'"]'),e=t.previousElementSibling;("span"!==e.tagName.toLowerCase()?e:t).classList.add("active")}})},300);window.addEventListener("scroll",d)}}function scrollIndiClicked(t){const e=document.querySelector('[data-scroll-indicator-title="'+t+'"]');if(0!==dotNavHeight)if(!0===dotFixedNavUp){window.scrollTo({top:e.offsetTop-dotOffset,left:0,behavior:"smooth"});const t=document.body.getBoundingClientRect().top;setTimeout(function(){document.body.getBoundingClientRect().top>t&&window.scrollTo({top:e.offsetTop-dotNavHeight-dotOffset,left:0,behavior:"smooth"})},400)}else window.scrollTo({top:e.offsetTop-dotNavHeight-dotOffset,left:0,behavior:"smooth"});else window.scrollTo({top:e.offsetTop-dotOffset,left:0,behavior:"smooth"})}

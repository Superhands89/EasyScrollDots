/* Easy Scroll Dots 1.0.7 --- https://github.com/Superhands89/EasyScrollDots
* Quickly add anchor points throughout your web page/application and have navigational dots automatically appear
* in a fixed position on the side of the page. This allows the user to click to scroll though sections of the page,
* and it updates as they scroll.
*
* By Paul Dolby (Superhands89) 2019 --- https://github.com/Superhands89/
*
* MIT Licence - Free and unrestricted use.
*/
function dotsThrottle(func,wait,options){var context,args,result,timeout=null,previous=0;options||(options={});var later=function(){previous=!1===options.leading?0:Date.now(),timeout=null,result=func.apply(context,args),timeout||(context=args=null)};return function(){var now=Date.now();previous||!1!==options.leading||(previous=now);var remaining=wait-(now-previous);return context=this,args=arguments,remaining<=0||remaining>wait?(timeout&&(clearTimeout(timeout),timeout=null),previous=now,result=func.apply(context,args),timeout||(context=args=null)):timeout||!1===options.trailing||(timeout=setTimeout(later,remaining)),result}}let dotFixedNavPresent=!1,dotFixedNavId="",dotFixedNavUp=!1;function easyScrollDots(dotfixedOptions){let scrollIndi=document.querySelectorAll(".scroll-indicator");if(!0===dotfixedOptions.fixedNav&&(dotFixedNavPresent=!0),dotFixedNavId=""!==dotfixedOptions.fixedNavId&&dotfixedOptions.fixedNavId,!0===dotfixedOptions.fixedNavUpward&&(dotFixedNavUp=!0),scrollIndi.length){const scrollIndiTemplate='<div class="scroll-indicator-controller"><span></span></div>';document.querySelector("body").lastElementChild.insertAdjacentHTML("afterend",scrollIndiTemplate);const scrollIndiController=document.querySelector(".scroll-indicator-controller"),scrollIndiElems=Array.prototype.slice.call(scrollIndi);scrollIndiElems.forEach(function(e,i){const scrollIndiId=e.getAttribute("id"),scrollIndiTitle=e.getAttribute("data-scroll-indicator-title");let firstActiveClass="";0==i&&(firstActiveClass="active"),scrollIndiController.lastElementChild.insertAdjacentHTML("afterend",'<div class="'+firstActiveClass+'" data-indi-controller-id="'+scrollIndiId+'" onclick="scrollIndiClicked(\''+scrollIndiId+"');\"><span>"+scrollIndiTitle+"</span><div></div></div>")});const scrollIndiControllerDots=scrollIndiController.querySelectorAll("[data-indi-controller-id]");var handleIndiScroll=dotsThrottle(function(){let indiScrollTopCollection={};scrollIndiElems.forEach(function(e){const scrollIndiIdScroll=e.getAttribute("id"),indiScrollTop=e.getBoundingClientRect().top;indiScrollTopCollection[scrollIndiIdScroll]=indiScrollTop});const indiOffsetValues=Object.keys(indiScrollTopCollection).map(function(itm){return indiScrollTopCollection[itm]}),indiOffsetMin=function(){const indiRemoveMinuses=indiOffsetValues.filter(function(x){return x>-1});return Math.min.apply(null,indiRemoveMinuses)};Object.keys(indiScrollTopCollection).forEach(function(e){indiScrollTopCollection[e]==indiOffsetMin()&&(Array.prototype.forEach.call(scrollIndiControllerDots,function(el){el.classList.contains("active")&&el.classList.remove("active")}),scrollIndiController.querySelector('[data-indi-controller-id="'+e+'"]').classList.add("active"))})},300);window.onscroll=function(){handleIndiScroll()}}}function scrollIndiClicked(indiId){if(window.jQuery)if(!0===dotFixedNavPresent&&dotFixedNavId.length){const dotNavHeightElem=document.getElementById(dotFixedNavId),dotNavHeight=dotNavHeightElem.clientHeight,dotDocumentHtml=$("html, body"),indiElement=$("#"+indiId);if(!0===dotFixedNavUp){dotDocumentHtml.animate({scrollTop:indiElement.offset().top},700);const scrollPos=document.body.getBoundingClientRect().top;setTimeout(function(){document.body.getBoundingClientRect().top>scrollPos&&dotDocumentHtml.animate({scrollTop:indiElement.offset().top-dotNavHeight},400)},400)}else dotDocumentHtml.animate({scrollTop:indiElement.offset().top-dotNavHeight},700)}else $("html, body").animate({scrollTop:$("#"+indiId).offset().top},700);else if(!0===dotFixedNavPresent&&dotFixedNavId.length){const dotNavHeightElem=document.getElementById(dotFixedNavId),dotNavHeight=dotNavHeightElem.clientHeight,indiElement=document.getElementById(indiId);if(!0===dotFixedNavUp){window.scrollTo({top:indiElement.offsetTop,left:0,behavior:"smooth"});const scrollPos=document.body.getBoundingClientRect().top;setTimeout(function(){document.body.getBoundingClientRect().top>scrollPos&&window.scrollTo({top:indiElement.offsetTop-dotNavHeight,left:0,behavior:"smooth"})},400)}else window.scrollTo({top:indiElement.offsetTop-dotNavHeight,left:0,behavior:"smooth"})}else window.scrollTo({top:document.getElementById(indiId).offsetTop,left:0,behavior:"smooth"})}
